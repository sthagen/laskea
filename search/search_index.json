{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"<p>License: MIT</p> <p>    </p> <p>Calculate (Finnish: laskea) some parts..</p> <p>Third party dependencies are documented in the folder third-party.</p>","title":"laskea"},{"location":"#status","text":"<p>Production/Stable.</p> <p>Note: The default branch is <code>default</code>.</p>","title":"Status"},{"location":"api/","text":"<p>The API provides simple functions for embeddings in markdown documents.</p> <p>Currently, there are two distinct kinds of embeddings: Sequence like embeddings and single item embeddings.</p>","title":"API"},{"location":"api/#sequence-functions","text":"<p>The following functions produce markdown constructs that receive sequences:</p> <ul> <li><code>table(query_text)</code> - a markdown GFM table</li> <li><code>dl(query_text)</code> - a definition (description) list</li> <li><code>ol(query_text)</code> - an ordered list</li> <li><code>ul(query_text)</code> - an unordered list</li> </ul>","title":"Sequence Functions"},{"location":"api/#single-item-returning-functions","text":"<ul> <li><code>h1(query_text)</code> - a level 1 heading</li> <li><code>h2(query_text)</code> - a level 2 heading</li> <li><code>h3(query_text)</code> - a level 3 heading</li> <li><code>h4(query_text)</code> - a level 4 heading</li> <li><code>h5(query_text)</code> - a level 5 heading</li> <li><code>h6(query_text)</code> - a level 6 heading</li> </ul>","title":"Single Item Returning Functions"},{"location":"api/#additional-parameters","text":"<p>All functions accept an optional keyword parameter <code>data</code> that when given will render that data instead of querying a server.</p> <p>This can be helpful to test the format without always querying the server.</p> <p>For this data inject to work, the following characteristic must be present in the data:</p> <ul> <li><code>data</code>value is a dict<ul> <li>with at least one <code>rows</code> key with a list as value.<ul> <li>that list contains one or more dicts with <ul> <li>the expected keys (from the column spec) and</li> <li>the values that should be injected.</li> </ul> </li> </ul> </li> </ul> </li> </ul> <pre><code>from laskea import *\nul('', data={'rows': [{'key': 'A', 'summary': 'B'}, {'key': 'C', 'summary': 'D'}]})\n</code></pre> <p>This should yield the following output:</p> <pre><code>- [A](https://remote-jira-instance.example.com/browse/A) - B\n- [C](https://remote-jira-instance.example.com/browse/C) - D\n</code></pre>","title":"Additional Parameters"},{"location":"changes/","text":"","title":"Change History"},{"location":"changes/#2022429","text":"<ul> <li>Enlarged query result limit for JIRA backend (partially implementing #25 Offer a parameter to extend the limit for JIRA backend)</li> </ul>","title":"2022.4.29"},{"location":"changes/#2022426","text":"<ul> <li>Fix for configuration file discovery (#23 Configuration search ignores current dir)</li> <li>Bumped atlassian API dependency</li> </ul>","title":"2022.4.26"},{"location":"changes/#20223","text":"","title":"2022.3"},{"location":"changes/#2022323","text":"<ul> <li>Hotfix for URL construction in kpi table to prepend the base url</li> </ul>","title":"2022.3.23"},{"location":"changes/#2022322","text":"<ul> <li>Added tabulator mode table backend</li> </ul>","title":"2022.3.22"},{"location":"changes/#202239","text":"<ul> <li>Breaking change: Use <code>LASKEA_</code> prefixed environment variables (instead of <code>ASCIINATOR_</code>) - cf. <code>laskea update -h</code> for the names</li> <li>Moved \"cloudness\" log statement out of inject area for documents and redirected all logging to stderr</li> <li>Added JOIN_STRING parameter defaulting to <code>' &lt;br&gt;'</code> (before not customizable and fixed to be <code>'&lt;br&gt;'</code> which is stripped in PDF/DOCX conversions)</li> <li>Added LF_ONLY parameter defaulting to <code>True</code> (which will remove any <code>\\r</code> from markdown output)</li> </ul>","title":"2022.3.9"},{"location":"changes/#202238","text":"<ul> <li>Introduced strict option to expose warnings on unexpected query result sizes otherwise inject empty strings</li> <li>Removed JQL grammar, parser, and antlr4 dependency (YAGNI) there is a tag <code>yagni-jql-parser</code> for sentimental days</li> <li>Coverage therefore jumped to above 2/3.</li> <li>Added more variables as entries to the template configuration</li> <li>Documented (some) usage changes and removed experimental warning</li> </ul>","title":"2022.3.8"},{"location":"changes/#202237","text":"<ul> <li>Reduced noise in dry-run mode when warnings were duplicated if not splitting stderr stream</li> <li>Added new dependency requests-cache to ease the load on the server</li> <li>Added new option for update command to set the expiry of the cache in seconds (default is 180 seconds or 3 minutes)</li> <li>Updated baseline, third-party information, and SBOM</li> </ul>","title":"2022.3.7"},{"location":"changes/#202236","text":"<ul> <li>Enhanced user experience for HTTP/400 client errors - failing JQL</li> <li>Enhanced user experience for unexpected results in embedded calls</li> <li>Added cloud switch to JIRA API - new environment variable and login parameter</li> <li>Added further embed calls for definition lists, and headers</li> <li>Added security baseline and hardened configuration resource handling</li> <li>Added tests growing the coverage to 55 %</li> </ul>","title":"2022.3.6"},{"location":"changes/#202235","text":"<ul> <li>Refactored codebase and tests</li> <li>Nits</li> </ul>","title":"2022.3.5"},{"location":"changes/#202234","text":"<ul> <li>Introduced ul function for injecting unordered markdown lists of keys and summaries</li> <li>Added report of environment facts command to support bug reports (new dependency scooby)</li> </ul>","title":"2022.3.4"},{"location":"changes/#202233","text":"<ul> <li>Introduced quiet flag</li> <li>Changed positional argument handling (accepting multiple files)</li> <li>The underlying code generator is called per input argument term</li> <li>Enhanced test coverage</li> </ul>","title":"2022.3.3"},{"location":"changes/#202232","text":"<ul> <li>First working implementation of command line mode</li> <li>Added layered configuration handling: -c option, cwd, parent folders, home first wun wins, env overwrites</li> <li>Added new command template to produce a starter template JSON file</li> <li>Added source of effective configuration detection and reporting</li> <li>Added verbose flags to verify and updated commands</li> <li>Added effective configuration reporting to easily generate proven configurations from experimenting </li> <li>Consolidated update and verify commands into update command with verify (dry-run) option</li> </ul>","title":"2022.3.2"},{"location":"changes/#202231","text":"<ul> <li>Fixed laskea.api.jira matrix construction (library mode)</li> <li>Added cog api integration for update</li> <li>Moved all inputs to environment (no file based configuration yet)</li> </ul>","title":"2022.3.1"},{"location":"changes/#20222","text":"","title":"2022.2"},{"location":"changes/#2022228","text":"<ul> <li>Enhanced laskea.api.jira for use as a library via code generator</li> </ul>","title":"2022.2.28"},{"location":"changes/#2022227","text":"<ul> <li>Documented usage examples (for now primarily shenannigans)</li> <li>Added update, verify, and version CLI interfaces</li> <li>Automated SBOM creation and dependency information retrieval</li> <li>Added parent commit information to version info</li> <li>Generated JQL listener and visitor APIs from ANTLR4 grammar</li> </ul>","title":"2022.2.27"},{"location":"changes/#2022226","text":"<ul> <li>Initial version on PyPI</li> </ul>","title":"2022.2.26"},{"location":"install/","text":"<p>Preferred way to install is as usual (for testing or in isolation):</p> <pre><code>$ pipx install laskea\n</code></pre> <p>For production use or within a virtual python env:</p> <pre><code>$ pip install laskea\n</code></pre>","title":"Installation"},{"location":"usage/","text":"<p>Note: After having set up a local configuration, normally only two of the many possible environment variables are set: <code>LASKEA_USER</code> and <code>LASKEA_TOKEN</code>. In some cases the debug variable <code>LASKEA_DEBUG</code> may be helpful temporarily.</p>","title":"Example Usage"},{"location":"usage/#help","text":"<pre><code>$ laskea\nUsage: laskea [OPTIONS] COMMAND [ARGS]...\n\n  Calculate (Finnish: laskea) some parts.\n\nOptions:\n  -V, --version  Display the laskea version and exit\n  -h, --help     Show this message and exit.\n\nCommands:\n  report    Write a report of the environment for bug reports to standard...\n  template  Write a template of a well-formed JSON configuration to...\n  update    Fill in some parts of the input document.\n  version   Display the laskea version and exit.\n</code></pre>","title":"Help"},{"location":"usage/#report","text":"<pre><code>$ laskea report\n\n--------------------------------------------------------------------------------\n  Date: Tue Apr 26 23:14:02 2022 CEST\n\n                OS : Darwin\n            CPU(s) : 8\n           Machine : arm64\n      Architecture : 64bit\n       Environment : Python\n\n  Python 3.10.2 (main, Jan 29 2022, 17:30:41) [Clang 13.0.0\n  (clang-1300.0.29.30)]\n\n            laskea : 2022.3.23+parent.d340edde\n         atlassian : 3.21.0\n     cogapp.cogapp : 3.3.0\n          jmespath : 0.10.0\n          pydantic : 1.9.0\n    requests_cache : 0.9.2\n            scooby : 0.5.12\n             typer : 0.4.0\n--------------------------------------------------------------------------------\n</code></pre>","title":"Report"},{"location":"usage/#help_1","text":"<pre><code>Usage: laskea report [OPTIONS]\n\n  Output either text options for the user to report her env or the report of\n  the environment for support.\n\nOptions:\n  -s, --shallow  Shallow reporting - no setuptools required (default is False)\n  -h, --help     Show this message and exit.\n</code></pre>","title":"Help"},{"location":"usage/#template","text":"<pre><code>$ laskea template\n{\n  \"table\": {\n    \"column\": {\n      \"fields\": [\n        \"Key\",\n        \"Summary\",\n        \"Custom Field Name\",\n        \"Custom Field Other\"\n      ],\n      \"field_map\": {\n        \"key\": [\n          \"key\",\n          \"key\"\n        ],\n        \"summary\": [\n          \"summary\",\n          \"fields.summary\"\n        ],\n        \"custom field name\": [\n          \"customfield_11501\",\n          \"fields.customfield_11501\"\n        ],\n        \"custom field other\": [\n          \"customfield_13901\",\n          \"fields.customfield_13901[].value\"\n        ]\n      },\n      \"lf_only\": true,\n      \"join_string\": \" &lt;br&gt;\"\n    }\n  },\n  \"remote\": {\n    \"is_cloud\": false,\n    \"user\": \"\",\n    \"token\": \"\",\n    \"base_url\": \"https://remote-jira-instance.example.com/\"\n  },\n  \"local\": {\n    \"markers\": \"[[[fill ]]] [[[end]]]\",\n    \"quiet\": false,\n    \"verbose\": false,\n    \"strict\": false\n  }\n}\n</code></pre>","title":"Template"},{"location":"usage/#help_2","text":"<pre><code>$ laskea template --help\nUsage: laskea template [OPTIONS]\n\n  Write a template of a well-formed JSON configuration to standard out and\n  exit\n\n  The strategy for looking up configurations is to start at the current\n  working directory trying to read a file with the name `.laskea.json` else\n  try to read same named file in the user folder (home).\n\n  In case an explicit path is given to the config option of commands that\n  offer it, only that path is considered.\n\nOptions:\n  -h, --help  Show this message and exit.\n</code></pre>","title":"Help"},{"location":"usage/#update","text":"<pre><code>$ laskea update tests/fixtures/basic/empty.md\nReading from discovered configuration path /home/ofsomeone/.laskea.json\nConfiguration interface combined file, environment, and commandline values!\nEffective configuration combining /home/ofsomeone/.laskea.json, environment variables, and defaults:\n# --- BEGIN ---\n{\n  \"table\": {\n    \"column\": {\n      \"fields\": [\n        \"Key\",\n        \"Summary\",\n        \"Custom Field Name\",\n        \"Custom Field Other\"\n      ],\n      \"field_map\": {\n        \"key\": [\n          \"key\",\n          \"key\"\n        ],\n        \"summary\": [\n          \"summary\",\n          \"fields.summary\"\n        ],\n        \"custom field name\": [\n          \"customfield_11501\",\n          \"fields.customfield_11501\"\n        ],\n        \"custom field other\": [\n          \"customfield_13901\",\n          \"fields.customfield_13901[].value\"\n        ]\n      },\n      \"lf_only\": false,\n      \"join_string\": \" &lt;br&gt;\"\n    }\n  },\n  \"remote\": {\n    \"is_cloud\": true,\n    \"user\": \"someuser\",\n    \"token\": \"\",\n    \"base_url\": \"https://some.server.example.com/\"\n  },\n  \"local\": {\n    \"markers\": \"[[[fill ]]] [[[end]]]\",\n    \"quiet\": false,\n    \"verbose\": false,\n    \"strict\": false\n  }\n}\n# --- E N D ---\nINFO: Upstream JIRA instance is addressed per cloud rules\nCogging tests/fixtures/basic/empty.md\n</code></pre>","title":"Update"},{"location":"usage/#help_3","text":"<pre><code>$ laskea update -h\nUsage: laskea update [OPTIONS] SOURCE...\n\n  Fill in some parts of the input document.\n\n  You can set some options per evironment variables:\n\n  * LASKEA_USER='remote-user'\n  * LASKEA_TOKEN='remote-secret'\n  * LASKEA_BASE_URL='https://remote-jira-instance.example.com/'\n  * LASKEA_CACHE_EXPIRY_SECONDS=180\n  * LASKEA_COL_FIELDS: '[\"Key\", \"Summary\", \"Custom Field Name\"]'\n  * LASKEA_COL_MAPS='{\"key\": [\"key\", \"key\"], \"summary\": [\"summary\", \"fields.summary\"],\n    \"custom field name\": [\"customfield_123\", \"fields.customfield_123\"]}'\n  * LASKEA_JOIN_STRING=' &lt;br&gt;'\n  * LASKEA_LF_ONLY='AnythingTruthy'\n  * LASKEA_IS_CLOUD='WhenNotConnectingToJiraServerButJiraCloud'\n  * LASKEA_MARKERS='[[[fill ]]] [[[end]]]'\n  * LASKEA_DEBUG='AnythingTruthy'\n  * LASKEA_VERBOSE='AnythingTruthy'\n  * LASKEA_STRICT='AnythingTruthy'\n\n  The quiet option (if given) disables any conflicting verbosity setting.\n\nArguments:\n  SOURCE...  [required]\n\nOptions:\n  -i, --input &lt;sourcepath&gt;        Path to input file\n  -c, --config &lt;configpath&gt;       Path to config file (default is\n                                  $HOME/.laskea.json)\n  -n, --dry-run                   Dry run (default is False)\n  -v, --verbose                   Verbose output (default is False)\n  -q, --quiet                     Minimal output (default is False)\n  -s, --strict                    Ouput noisy warnings on console and in the\n                                  processed document (default is False)\n  -x, --cache-expiry-seconds INTEGER\n                                  Request cache expiry in seconds (default is\n                                  180)  [default: 180]\n  -h, --help                      Show this message and exit.\n</code></pre>","title":"Help"},{"location":"usage/#version","text":"<pre><code>$ laskea version\nCalculate (Finnish: laskea) some parts. version 2022.4.29+parent.9a0b1b1c\n</code></pre>","title":"Version"},{"location":"third-party/","text":"<p>The SBOM in CycloneDX v1.4 JSON format with SHA256 checksum (a349c79b ...).</p>","title":"Third Party Dependencies"},{"location":"third-party/#licenses","text":"<p>JSON files with complete license info of: direct dependencies | all dependencies</p>","title":"Licenses"},{"location":"third-party/#direct-dependencies","text":"Name Version License Author Description (from packaging data)     atlassian-python-api 3.21.0 Apache Software License Matt Harasymczuk Python Atlassian REST API Wrapper   cogapp 3.3.0 MIT License Ned Batchelder Cog: A content generator for executing Python snippets in source files.   jmespath 0.10.0 MIT License James Saryerwinnie JSON Matching Expressions   pydantic 1.9.0 MIT License Samuel Colvin Data validation and settings management using python 3.6 type hinting   requests-cache 0.9.3 BSD License Roman Haritonov A transparent persistent cache for the requests library   scooby 0.5.12 MIT License Dieter Werthm\u00fcller &amp; Bane Sullivan A Great Dane turned Python environment detective   typer 0.4.0 MIT License Sebasti\u00e1n Ram\u00edrez Typer, build great CLIs. Easy to code. Based on Python type hints.","title":"Direct Dependencies"},{"location":"third-party/#indirect-dependencies","text":"Name Version License Author Description (from packaging data)     Deprecated 1.2.13 MIT License Laurent LAPORTE Python @deprecated decorator to deprecate old python classes, functions or methods.   appdirs 1.4.4 MIT License Trent Mick A small Python module for determining appropriate platform-specific dirs, e.g. a \"user data dir\".   attrs 21.4.0 MIT License Hynek Schlawack Classes Without Boilerplate   cattrs 1.10.0 MIT License Tin Tvrtkovic Composable complex class support for attrs and dataclasses.   certifi 2021.10.8 Mozilla Public License 2.0 (MPL 2.0) Kenneth Reitz Python package for providing Mozilla's CA Bundle.   charset-normalizer 2.0.12 MIT License Ahmed TAHRI @Ousret The Real First Universal Charset Detector. Open, modern and actively maintained alternative to Chardet.   click 8.0.4 BSD License Armin Ronacher Composable command line interface toolkit   idna 3.3 BSD License Kim Davies Internationalized Domain Names in Applications (IDNA)   oauthlib 3.2.0 BSD License The OAuthlib Community A generic, spec-compliant, thorough implementation of the OAuth request-signing logic   requests-oauthlib 1.3.1 BSD License Kenneth Reitz OAuthlib authentication support for Requests.   requests 2.27.1 Apache Software License Kenneth Reitz Python HTTP for Humans.   six 1.16.0 MIT License Benjamin Peterson Python 2 and 3 compatibility utilities   typing-extensions 4.1.1 Python Software Foundation License UNKNOWN Backported and Experimental Type Hints for Python 3.6+   url-normalize 1.4.3 MIT License Nikolay Panov URL normalization for Python   urllib3 1.26.8 MIT License Andrey Petrov HTTP library with thread-safe connection pooling, file post, and more.   wrapt 1.13.3 BSD License Graham Dumpleton Module for decorators, wrappers and monkey patching.","title":"Indirect Dependencies"},{"location":"third-party/#dependency-trees","text":"<p>JSON file with the complete package dependency tree info of: the full dependency tree</p>","title":"Dependency Tree(s)"},{"location":"third-party/#rendered-svg","text":"<p>Base graphviz file in dot format: Trees of the direct dependencies</p> <p></p>","title":"Rendered SVG"},{"location":"third-party/#console-representation","text":"<pre><code>atlassian-python-api==3.21.0\n  - deprecated [required: Any, installed: 1.2.13]\n    - wrapt [required: &gt;=1.10,&lt;2, installed: 1.13.3]\n  - oauthlib [required: Any, installed: 3.2.0]\n  - requests [required: Any, installed: 2.27.1]\n    - certifi [required: &gt;=2017.4.17, installed: 2021.10.8]\n    - charset-normalizer [required: ~=2.0.0, installed: 2.0.12]\n    - idna [required: &gt;=2.5,&lt;4, installed: 3.3]\n    - urllib3 [required: &gt;=1.21.1,&lt;1.27, installed: 1.26.8]\n  - requests-oauthlib [required: Any, installed: 1.3.1]\n    - oauthlib [required: &gt;=3.0.0, installed: 3.2.0]\n    - requests [required: &gt;=2.0.0, installed: 2.27.1]\n      - certifi [required: &gt;=2017.4.17, installed: 2021.10.8]\n      - charset-normalizer [required: ~=2.0.0, installed: 2.0.12]\n      - idna [required: &gt;=2.5,&lt;4, installed: 3.3]\n      - urllib3 [required: &gt;=1.21.1,&lt;1.27, installed: 1.26.8]\n  - six [required: Any, installed: 1.16.0]\ncogapp==3.3.0\njmespath==0.10.0\npydantic==1.9.0\n  - typing-extensions [required: &gt;=3.7.4.3, installed: 4.1.1]\nrequests-cache==0.9.3\n  - appdirs [required: &gt;=1.4.4,&lt;2.0.0, installed: 1.4.4]\n  - attrs [required: &gt;=21.2,&lt;22.0, installed: 21.4.0]\n  - cattrs [required: &gt;=1.8,&lt;2.0, installed: 1.10.0]\n    - attrs [required: &gt;=20, installed: 21.4.0]\n  - requests [required: &gt;=2.22,&lt;3.0, installed: 2.27.1]\n    - certifi [required: &gt;=2017.4.17, installed: 2021.10.8]\n    - charset-normalizer [required: ~=2.0.0, installed: 2.0.12]\n    - idna [required: &gt;=2.5,&lt;4, installed: 3.3]\n    - urllib3 [required: &gt;=1.21.1,&lt;1.27, installed: 1.26.8]\n  - url-normalize [required: &gt;=1.4,&lt;2.0, installed: 1.4.3]\n    - six [required: Any, installed: 1.16.0]\n  - urllib3 [required: &gt;=1.25.5,&lt;2.0.0, installed: 1.26.8]\nscooby==0.5.12\ntyper==0.4.0\n  - click [required: &gt;=7.1.1,&lt;9.0.0, installed: 8.0.4]\n</code></pre>","title":"Console Representation"}]}